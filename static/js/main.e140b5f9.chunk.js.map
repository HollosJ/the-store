{"version":3,"sources":["components/Basket.js","components/Nav.js","components/Modal.js","components/Item.js","components/Store.js","components/Wishlist.js","App.js","index.js"],"names":["Basket","props","className","items","length","slice","map","item","key","title","qt","price","toFixed","onClick","delete","clear","Nav","useState","open","setOpen","sum","setSum","useEffect","total","forEach","to","Modal","quantity","setQuantity","handleChange","m","closeModal","src","image","alt","description","type","min","max","value","style","marginLeft","addToBasket","id","inWishlist","removeFromWishlist","addToWishlist","Item","modal","setModal","toggleModalShow","img","name","split","join","Store","cat","setCat","getItemsInCategory","filter","category","onChange","e","target","toUpperCase","Wishlist","LOCAL_BASKET","JSON","parse","localStorage","getItem","LOCAL_WISHLIST","App","setItems","basket","setBasket","wishlist","setWishlist","fetch","then","res","json","data","wItem","itemToUpdate","indexOf","find","setItem","stringify","handleBasketAdd","q","itemToAdd","newBasket","itemInBasket","toast","success","push","handleWishlistAdd","newWishlist","itemInWishlist","handleWishlistRemove","error","newItems","idx","itemToRemove","path","render","position","autoClose","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e140b5f9.chunk.js","sourcesContent":["import React from 'react'\r\nimport {FaShoppingBasket} from \"react-icons/fa\"\r\n\r\nconst Basket = (props) => {\r\n    return (\r\n        <div className=\"basket\">\r\n            {props.items.length > 0\r\n            ? (props.items.slice(0,3).map((item, key) => {\r\n                return <div key={key} className=\"basket__item\">\r\n                        <span className=\"basket__item-name\">{item.title}</span>\r\n                        <span className=\"basket__item-quantity\">x{item.qt}</span>\r\n                        <span className=\"basket__item-price\">£{(item.price * item.qt).toFixed(2)}</span>\r\n                        <div className=\"basket__item-delete\" onClick={() => props.delete(item)}>X</div>\r\n                    </div>\r\n            }))\r\n            : \"Basket empty!\"}\r\n            {props.items.length > 0\r\n                && <div className=\"btn btn--secondary\">See full basket&nbsp;<FaShoppingBasket /></div>}\r\n            {props.items.length > 0 \r\n                && <div className=\"btn btn--primary\" onClick={props.clear}>Clear basket</div>\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Basket\r\n","import React, { useState, useEffect } from 'react'\r\nimport Basket from \"./Basket\"\r\n\r\nimport { FaShoppingBasket } from \"react-icons/fa\"\r\n\r\nimport { Link } from \"react-router-dom\"; \r\n\r\nconst Nav = (props) => {\r\n\r\n    const [open, setOpen] = useState(false);\r\n    const [sum, setSum] = useState(0);\r\n\r\n    //when page is loaded + when basket is changed\r\n    //... update basket total\r\n    useEffect(() => {\r\n        let total = 0;\r\n        props.items.forEach(item => {\r\n            total += item.price * item.qt\r\n        })\r\n        setSum(total)\r\n    }, [props.items])\r\n\r\n    //toggle basket menu open/closed\r\n    const handleOpen = () => {\r\n        setOpen(!open);\r\n    }\r\n\r\n    return (\r\n        <div className=\"nav\">\r\n            <div className=\"container\">\r\n                <Link to=\"/\"><h1><span className=\"logo-the\">the</span>Store</h1></Link>\r\n                <div className=\"nav__links\">\r\n                    <Link to=\"/wishlist\" className=\"btn btn--secondary btn__wishlist\">\r\n                        Wishlist\r\n                    </Link>\r\n                    <div className=\"btn btn--primary btn__basket\" onClick={handleOpen}>\r\n                        <FaShoppingBasket /> &nbsp;£{sum.toFixed(2)}\r\n                    </div>\r\n                </div>\r\n\r\n                {open\r\n                && <Basket items={props.items} delete={props.delete} clear={props.clear}/>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Nav;","import React, {useState} from 'react'\r\nimport { FaShoppingBasket, FaHeart, FaRegHeart, FaPlus, FaMinus, FaTimes} from \"react-icons/fa\"\r\n\r\nconst Modal = (props) => {\r\n    const [quantity, setQuantity] = useState(1)\r\n\r\n    const handleChange = (m) => {\r\n        if(m === \"inc\" && quantity < 50){\r\n            setQuantity(quantity+1)\r\n        } else if (m === \"dec\" && quantity > 1){\r\n            setQuantity(quantity - 1)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"modal\">\r\n            <div className=\"modal__inner\">\r\n                <FaTimes className=\"modal__inner-close\" onClick={props.closeModal}/>\r\n\r\n                <h1 className=\"modal__inner-title\">{props.item.title}</h1>\r\n                <img className=\"modal__inner-img\" src={props.item.image} alt=\"\" />\r\n                <p className=\"modal__inner-desc\">{props.item.description}</p>\r\n\r\n                <div className=\"modal__inner-btns\">\r\n                    <button className=\"btn btn--secondary\" onClick={() => handleChange(\"dec\")}><FaMinus /></button>\r\n                    <input type=\"number\" min=\"1\" max=\"50\" value={quantity}/>\r\n                    <button className=\"btn btn--secondary\" onClick={() => handleChange(\"inc\")}><FaPlus /></button>\r\n                    <button className=\"btn btn--primary\" style={{marginLeft: \"0.25rem\"}} onClick={() => props.addToBasket(props.item.id, quantity)}><FaShoppingBasket /></button>\r\n                    <button className=\"btn btn--secondary\" style={{marginLeft: \"0.25rem\"}} onClick={\r\n                        props.inWishlist \r\n                        ? () => props.removeFromWishlist(props.item.id) \r\n                        : () => props.addToWishlist(props.item.id)}>\r\n                        {props.inWishlist ? <FaHeart className=\"addToWishlist--filled\"/> : <FaRegHeart />}    \r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Modal","import React, {useState} from 'react'\r\nimport { FaHeart, FaRegHeart, FaShoppingBasket } from \"react-icons/fa\"\r\nimport Modal from \"./Modal\"\r\n\r\nconst Item = (props) => {\r\n    const [modal, setModal] = useState(false);\r\n\r\n    const toggleModalShow = () => {\r\n        setModal(!modal)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"card\">\r\n                {/* Item image and information */}\r\n                <div className=\"card__img\">\r\n                    <img src={props.img} alt={props.name} />\r\n                </div>\r\n                <div className=\"card__info\">\r\n                    <div className=\"card__info-name\" onClick={toggleModalShow}>\r\n                        {props.name.split(\" \").slice(0,5).join(\" \")}\r\n                        {props.name.split(\" \").length > 5 \r\n                        && \"...\"}\r\n                    </div>\r\n                    <span className=\"card__info-price\">£{props.price.toFixed(2)}</span>     \r\n                </div>\r\n                {/* Buttons */}\r\n                <div className=\"card__btns\">\r\n                    <div className=\"addToBasket btn btn--primary\"  onClick={() => props.addToBasket(props.id, 1)}>\r\n                        Add to basket&nbsp;<FaShoppingBasket />\r\n                    </div>\r\n\r\n                    <div className=\"addToWishlist btn btn--secondary\" onClick={\r\n                        props.inWishlist \r\n                        ? () => props.removeFromWishlist(props.id) \r\n                        : () => props.addToWishlist(props.id)}>\r\n                        {props.inWishlist \r\n                        ? <FaHeart className=\"addToWishlist--filled\" /> \r\n                        : <FaRegHeart />}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {modal && <Modal\r\n            addToWishlist={props.addToWishlist}\r\n            addToBasket={props.addToBasket}\r\n            inWishlist={props.inWishlist}\r\n            removeFromWishlist={props.removeFromWishlist}\r\n            closeModal={toggleModalShow}\r\n            item={props.item} />}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Item;\r\n","import React, {useState} from 'react'\r\nimport Item from \"./Item\"\r\n\r\nconst Store = (props) => {\r\n    const categories = [\"electronics\",\"jewelery\",\"men's clothing\",\"women's clothing\"]\r\n    const [cat, setCat] = useState(\"all\")\r\n\r\n    //get items based on category state\r\n    const getItemsInCategory = () => {\r\n        return cat === \"all\" \r\n        ? props.items\r\n        : props.items.filter(item => item.category === cat)\r\n    }\r\n\r\n    return (\r\n        <>  \r\n            {props.items.length > 0 &&\r\n            <select className=\"filters\" onChange={(e) => setCat(e.target.value)}>\r\n                <option value=\"all\">ALL</option>\r\n                {categories.map((item, key) => \r\n                    {\r\n                        return <option key={key} value={item}>{item.toUpperCase()}</option>\r\n                    })\r\n                }\r\n            </select>\r\n            }\r\n            <div className=\"grid\">\r\n            {getItemsInCategory().length > 0 \r\n            ? (getItemsInCategory().map((item) => {\r\n                return <Item\r\n                key={item.id}\r\n                item={item}\r\n                id={item.id}\r\n                name={item.title}\r\n                img={item.image}\r\n                price={item.price}\r\n                addToBasket={props.addToBasket}\r\n                addToWishlist={props.addToWishlist} \r\n                removeFromWishlist={props.removeFromWishlist}\r\n                inWishlist={item.inWishlist ? true : false}/>\r\n            })\r\n            )\r\n            :<div className=\"spinner\"></div>}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Store\r\n","import React from 'react'\r\n\r\nconst Wishlist = (props) => {\r\n    return (\r\n        <>\r\n        <h1 className=\"fw-xl clr-nl\">Wishlist</h1>\r\n        <div className=\"grid\">\r\n            {props.items.map((item, key) => {\r\n                return <div key={key}>{item.title}</div>\r\n            })}\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Wishlist\r\n","import './styles/App.scss';\nimport Nav from \"./components/Nav\";\nimport Store from \"./components/Store\";\nimport Wishlist from \"./components/Wishlist\";\nimport React, {useState, useEffect} from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport {\n    HashRouter as Router,\n    Switch,\n    Route,\n  } from \"react-router-dom\"; \n\nconst LOCAL_BASKET = JSON.parse(localStorage.getItem(\"basket\")) || [];\nconst LOCAL_WISHLIST = JSON.parse(localStorage.getItem(\"wishlist\")) || [];\n\nconst App = () => {\n  const [items, setItems] = useState([]);\n  const [basket, setBasket] = useState(LOCAL_BASKET);\n  const [wishlist, setWishlist] = useState(LOCAL_WISHLIST);\n\n  //initial items fetch & modify data for wishlist\n  useEffect(() => {\n    fetch(\"https://fakestoreapi.com/products\")\n    .then(res => res.json())\n    .then(data => {\n      //update data state to reflect wishlist\n      wishlist.forEach(wItem => {\n        let itemToUpdate = data.indexOf(data.find(item => item.id === wItem.id));\n        data[itemToUpdate].inWishlist = true;\n      })\n      setItems(data);\n    });\n    // eslint-disable-next-line\n  },[])\n\n  //init basket & wishlist from localStorage\n  useEffect(() => {\n    localStorage.setItem(\"basket\", JSON.stringify(basket))\n  },[basket])\n  useEffect(() => {\n    localStorage.setItem(\"wishlist\", JSON.stringify(wishlist))\n  }, [wishlist])\n\n  //add to basket\n  const handleBasketAdd = (id, q) => {\n    const itemToAdd = items.find(item => item.id === id);\n    const newBasket = [...basket]\n    let itemInBasket = newBasket.find((item) => id === item.id)\n\n    if(itemInBasket) {\n      itemInBasket.qt += q\n      toast.success(`x${q} ${itemToAdd.title} now in basket`)\n\n    } else {\n      itemInBasket = {\n        ...itemToAdd,\n        qt: q,\n      };\n      newBasket.push(itemInBasket);\n      toast.success(`x${q} ${itemToAdd.title} added to basket!`)\n    }\n    setBasket(newBasket)\n  }\n  \n  //add to wishlist\n  const handleWishlistAdd = (id) => {\n    const itemToAdd = items.find(item => item.id === id);\n    const newWishlist = [...wishlist]\n    const itemInWishlist = newWishlist.find((item) => id === item.id);\n    toast.success(`${itemToAdd.title} added to wishlist!`)\n    \n    //if not in wishlist, add to wishlist\n    if(!itemInWishlist){\n      itemToAdd.inWishlist = true;\n      newWishlist.push(itemToAdd);\n      setWishlist(newWishlist);\n    }\n  }\n  \n  //remove specific item from basket\n  const handleBasketRemove = (itemToRemove) => {\n    setBasket(basket.filter(item => item !== itemToRemove))\n    toast.error(`All ${itemToRemove.title} removed from basket`)\n  }\n  \n  //remove item from wishlist\n  const handleWishlistRemove = (id) => {\n    setWishlist(wishlist.filter(item => item.id !== id))\n    toast.error(`${items.find(item => item.id === id).title} removed from wishlist`)\n    \n    //update item state to reflect wishlist state\n    let newItems = [...items]\n    let idx = newItems.indexOf(newItems.find(item => item.id === id))\n    newItems[idx].inWishlist = false\n  }\n  \n  //clear entire basket\n  const handleBasketClear = () => {\n    setBasket([])\n  };\n  \n  return (\n    <Router>\n        <div className=\"App\">\n          <Nav className=\"Nav\"\n            clear={handleBasketClear}\n            delete={handleBasketRemove}\n            items={basket}/>\n          <div className=\"container content\">\n            <Switch>\n              <Route path=\"/wishlist\" render={\n                () => <Wishlist \n                removeFromWishlist={handleWishlistRemove}\n                items={wishlist}/>\n              } />\n              {/* <Route path=\"/items/:id\"\n               component={Item} /> */}\n               {/* <Route path=\"/items/:id\" render={() => {\n                 <Item addToBasket={handleBasketAdd} />\n               }} component={Item}/> */}\n              <Route path=\"/\" render={\n                () => <Store \n                wishlist={wishlist}\n                items={items}\n                addToBasket={handleBasketAdd}\n                addToWishlist={handleWishlistAdd}\n                removeFromWishlist={handleWishlistRemove}/>\n              }/>\n            </Switch>\n            <ToastContainer \n            position=\"bottom-right\"\n            autoClose={2000} />\n          </div>\n        </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}