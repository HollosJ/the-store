{"version":3,"sources":["components/Basket.js","components/Nav.js","components/ItemCard.js","components/Store.js","components/Item.js","components/Wishlist.js","App.js","index.js"],"names":["Basket","props","className","items","length","slice","map","item","key","title","qt","price","toFixed","onClick","delete","clear","Nav","useState","open","setOpen","sum","setSum","useEffect","total","forEach","to","ItemCard","src","img","alt","name","id","split","join","addToBasket","inWishlist","removeFromWishlist","addToWishlist","Store","image","Item","match","setItem","loading","setLoading","fetchItemData","a","fetch","params","res","json","description","Wishlist","LOCAL_BASKET","JSON","parse","localStorage","getItem","LOCAL_WISHLIST","App","setItems","basket","setBasket","wishlist","setWishlist","then","data","wItem","itemToUpdate","indexOf","find","stringify","handleBasketAdd","itemToAdd","newBasket","itemInBasket","push","handleWishlistAdd","newWishlist","handleWishlistRemove","filter","newItems","idx","itemToRemove","path","render","component","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0a6166cf.chunk.js","sourcesContent":["import React from 'react'\r\nimport {FaShoppingBasket} from \"react-icons/fa\"\r\n\r\nconst Basket = (props) => {\r\n    return (\r\n        <div className=\"basket\">\r\n            {props.items.length > 0\r\n            ? (props.items.slice(0,3).map((item, key) => {\r\n                return <div key={key} className=\"basket__item\">\r\n                        <span className=\"basket__item-name\">{item.title}</span>\r\n                        <span className=\"basket__item-quantity\">x{item.qt}</span>\r\n                        <span className=\"basket__item-price\">£{(item.price * item.qt).toFixed(2)}</span>\r\n                        <div className=\"basket__item-delete\" onClick={() => props.delete(item)}>X</div>\r\n                    </div>\r\n            }))\r\n            : \"Basket empty!\"}\r\n            {props.items.length > 0\r\n                && <div className=\"btn btn--secondary\">See full basket&nbsp;<FaShoppingBasket /></div>}\r\n            {props.items.length > 0 \r\n                && <div className=\"btn btn--primary\" onClick={props.clear}>Clear basket</div>\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Basket\r\n","import React, { useState, useEffect } from 'react'\r\nimport Basket from \"./Basket\"\r\n\r\nimport { FaShoppingBasket } from \"react-icons/fa\"\r\n\r\nimport { Link } from \"react-router-dom\"; \r\n\r\nconst Nav = (props) => {\r\n\r\n    const [open, setOpen] = useState(false);\r\n    const [sum, setSum] = useState(0);\r\n\r\n    //when page is loaded + when basket is changed\r\n    //... update basket total\r\n    useEffect(() => {\r\n        let total = 0;\r\n        props.items.forEach(item => {\r\n            total += item.price * item.qt\r\n        })\r\n        setSum(total)\r\n    }, [props.items])\r\n\r\n    //toggle basket menu open/closed\r\n    const handleOpen = () => {\r\n        setOpen(!open);\r\n    }\r\n\r\n    return (\r\n        <div className=\"nav\">\r\n            <div className=\"container\">\r\n                <Link to=\"/\"><h1><span className=\"logo-the\">the</span>Store</h1></Link>\r\n                <div className=\"nav__links\">\r\n                    <Link to=\"/wishlist\" className=\"btn btn--secondary btn__wishlist\">\r\n                        Wishlist\r\n                    </Link>\r\n                    <div className=\"btn btn--primary btn__basket\" onClick={handleOpen}>\r\n                        <FaShoppingBasket /> &nbsp;£{sum.toFixed(2)}\r\n                    </div>\r\n                </div>\r\n\r\n                {open\r\n                && <Basket items={props.items} delete={props.delete} clear={props.clear}/>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Nav;","import React from 'react'\r\nimport { FaHeart, FaRegHeart, FaShoppingBasket } from \"react-icons/fa\"\r\nimport { Link } from \"react-router-dom\"; \r\n\r\nconst ItemCard = (props) => {\r\n    return (\r\n        <div className=\"card\">\r\n            <div className=\"card__img\">\r\n                <img src={props.img} alt={props.name} />\r\n            </div>\r\n            <div className=\"card__info\">\r\n                <Link to={`/items/${props.id}`} className=\"card__info-name fw-sm\">\r\n                    {props.name.split(\" \").slice(0,5).join(\" \")}\r\n                    {props.name.split(\" \").length > 5 \r\n                    && \"...\"}\r\n                </Link>\r\n                <span className=\"card__info-price\">£{props.price.toFixed(2)}</span>     \r\n            </div>\r\n\r\n            <div className=\"card__btns\">\r\n                <div className=\"addToBasket btn btn--primary\"  onClick={() => props.addToBasket(props.id)}>\r\n                    Add to basket&nbsp;<FaShoppingBasket />\r\n                </div>\r\n\r\n                <div className=\"addToWishlist btn btn--secondary\" onClick={\r\n                    props.inWishlist \r\n                    ? () => props.removeFromWishlist(props.id) \r\n                    : () => props.addToWishlist(props.id)}>\r\n                    {props.inWishlist \r\n                    ? <FaHeart className=\"addToWishlist--filled\" /> \r\n                    : <FaRegHeart />}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ItemCard;\r\n","import React from 'react'\r\nimport ItemCard from \"./ItemCard\"\r\n\r\nconst Store = (props) => {\r\n    return (\r\n        <div className=\"grid\">\r\n           {props.items.length > 0 ? (\r\n               props.items.map((item) => {\r\n                return <ItemCard\r\n                key={item.id}\r\n                id={item.id}\r\n                name={item.title}\r\n                img={item.image}\r\n                price={item.price}\r\n                addToBasket={props.addToBasket}\r\n                addToWishlist={props.addToWishlist} \r\n                removeFromWishlist={props.removeFromWishlist}\r\n                inWishlist={item.inWishlist ? true : false}/>\r\n            })\r\n           ):<div className=\"spinner\"></div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Store\r\n","import React, {useState, useEffect} from 'react'\r\n\r\nconst Item = ({match}) => {\r\n    const [item, setItem] = useState({})\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        const fetchItemData = async () => {\r\n            let res = await fetch(`https://fakestoreapi.com/products/${match.params.id}`)\r\n            res = await res.json()\r\n            setItem(res)\r\n            setLoading(false)\r\n        }\r\n        fetchItemData()\r\n    },[])\r\n\r\n    return loading ? <div>loading...</div> : \r\n    <div className=\"item\">\r\n        <img className=\"item__img\" src={item.image} alt=\"\"/>\r\n        <h1 className=\"item__title\">{item.title}</h1>\r\n        <p className=\"item__desc\">{item.description}</p>\r\n    </div>\r\n}\r\n\r\nexport default Item\r\n","import React from 'react'\r\n\r\nconst Wishlist = (props) => {\r\n    return (\r\n        <>\r\n        <h1 className=\"fw-xl clr-nl\">Wishlist</h1>\r\n        <div className=\"grid\">\r\n            {props.items.map((item, key) => {\r\n                return <div key={key} onClick={() => props.removeFromWishlist(item)}>{item.title}</div>\r\n            })}\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Wishlist\r\n","import './App.scss';\nimport Nav from \"./components/Nav\";\nimport Store from \"./components/Store\";\nimport Item from \"./components/Item\";\nimport Wishlist from \"./components/Wishlist\";\nimport React, {useState, useEffect} from 'react';\n\nimport {\n    HashRouter as Router,\n    Switch,\n    Route,\n  } from \"react-router-dom\"; \n\nconst LOCAL_BASKET = JSON.parse(localStorage.getItem(\"basket\")) || [];\nconst LOCAL_WISHLIST = JSON.parse(localStorage.getItem(\"wishlist\")) || [];\n\nconst App = () => {\n  const [items, setItems] = useState([]);\n  const [basket, setBasket] = useState(LOCAL_BASKET);\n  const [wishlist, setWishlist] = useState(LOCAL_WISHLIST);\n\n  //initial items fetch & modify data for wishlist\n  useEffect(() => {\n    fetch(\"https://fakestoreapi.com/products\")\n    .then(res => res.json())\n    .then(data => {\n      //update data state to reflect wishlist\n      wishlist.forEach(wItem => {\n        let itemToUpdate = data.indexOf(data.find(item => item.id === wItem.id));\n        data[itemToUpdate].inWishlist = true;\n      })\n      setItems(data);\n    });\n    // eslint-disable-next-line\n  },[])\n\n  //init basket & wishlist from localStorage\n  useEffect(() => {\n    localStorage.setItem(\"basket\", JSON.stringify(basket))\n  },[basket])\n  useEffect(() => {\n    localStorage.setItem(\"wishlist\", JSON.stringify(wishlist))\n  }, [wishlist])\n\n  //add to basket\n  const handleBasketAdd = (id) => {\n    const itemToAdd = items.find(item => item.id === id);\n    const newBasket = [...basket]\n    let itemInBasket = newBasket.find((item) => id === item.id)\n\n    if(itemInBasket) {\n      itemInBasket.qt++\n    } else {\n      itemInBasket = {\n        ...itemToAdd,\n        qt: 1,\n      };\n      newBasket.push(itemInBasket);\n    }\n    setBasket(newBasket)\n  }\n\n  //add to wishlist\n  const handleWishlistAdd = (id) => {\n    const itemToAdd = items.find(item => item.id === id);\n    const newWishlist = [...wishlist]\n    const itemInWishlist = newWishlist.find((item) => id === item.id);\n\n    //if not in wishlist, add to wishlist\n    if(!itemInWishlist){\n      itemToAdd.inWishlist = true;\n      newWishlist.push(itemToAdd);\n      setWishlist(newWishlist);\n    }\n  }\n\n  //remove specific item from basket\n  const handleBasketRemove = (itemToRemove) => {\n    setBasket(basket.filter(item => item !== itemToRemove))\n  }\n\n  //remove item from wishlist\n  const handleWishlistRemove = (id) => {\n    setWishlist(wishlist.filter(item => item.id !== id))\n    \n    //update item state to reflect wishlist state\n    let newItems = [...items]\n    let idx = newItems.indexOf(newItems.find(item => item.id === id))\n    newItems[idx].inWishlist = false\n  }\n\n  //clear entire basket\n  const handleBasketClear = () => {\n    setBasket([])\n  };\n \n  return (\n    <Router>\n        <div className=\"App\">\n          <Nav className=\"Nav\"\n            clear={handleBasketClear}\n            delete={handleBasketRemove}\n            items={basket}/>\n          <div className=\"container content\">\n            <Switch>\n              <Route path=\"/wishlist\" render={\n                () => <Wishlist \n                removeFromWishlist={handleWishlistRemove}\n                items={wishlist}/>\n              } />\n              <Route path=\"/items/:id\" component={Item} />\n              <Route path=\"/\" render={\n                () => <Store \n                wishlist={wishlist}\n                items={items}\n                addToBasket={handleBasketAdd}\n                addToWishlist={handleWishlistAdd}\n                removeFromWishlist={handleWishlistRemove}/>\n              }/>\n            </Switch>\n          </div>\n        </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}