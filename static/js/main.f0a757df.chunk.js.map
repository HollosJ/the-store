{"version":3,"sources":["components/Basket.js","components/Nav.js","components/ItemCard.js","components/Store.js","components/Item.js","components/Wishlist.js","components/Error.js","App.js","index.js"],"names":["Basket","props","className","items","length","slice","map","item","key","title","qt","price","toFixed","onClick","delete","clear","Nav","useState","open","setOpen","sum","setSum","useEffect","total","forEach","to","ItemCard","src","img","alt","name","id","split","join","addToBasket","addToWishlist","inWishList","Store","setItems","fetch","then","res","json","product","image","desc","description","Item","match","setItem","loading","setLoading","params","Wishlist","JSON","parse","localStorage","getItem","Error","text","LOCAL_BASKET","LOCAL_WISHLIST","App","basket","setBasket","wishlist","setWishlist","error","setError","stringify","handleBasketAdd","a","itemToAdd","newBasket","itemInBasket","find","push","handleWishlistAdd","newWishlist","handleError","setTimeout","itemToRemove","filter","count","Object","keys","path","component","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f0a757df.chunk.js","sourcesContent":["import React from 'react'\r\nimport {FaShoppingBasket} from \"react-icons/fa\"\r\n\r\nconst Basket = (props) => {\r\n    return (\r\n        <div className=\"basket\">\r\n            {props.items.length > 0\r\n            ? (props.items.slice(0,3).map((item, key) => {\r\n                return <div key={key} className=\"basket__item\">\r\n                        <span className=\"basket__item-name\">{item.title}</span>\r\n                        <span className=\"basket__item-quantity\">x{item.qt}</span>\r\n                        <span className=\"basket__item-price\">£{(item.price * item.qt).toFixed(2)}</span>\r\n                        <div className=\"basket__item-delete\" onClick={() => props.delete(item)}>X</div>\r\n                    </div>\r\n            }))\r\n            : \"Basket empty!\"}\r\n            {props.items.length > 3\r\n            ? <div className=\"btn btn--secondary\">\r\n                See full basket&nbsp;<FaShoppingBasket />\r\n            </div>\r\n            : null}\r\n            {props.items.length > 0 \r\n            ? <div className=\"btn btn--primary\" onClick={props.clear}>Clear basket</div>\r\n            : null}\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Basket\r\n","import React, { useState, useEffect } from 'react'\r\nimport Basket from \"./Basket\"\r\n\r\nimport { FaShoppingBasket } from \"react-icons/fa\"\r\n\r\nimport { Link } from \"react-router-dom\"; \r\n\r\nconst Nav = (props) => {\r\n\r\n    const [open, setOpen] = useState(false);\r\n    const [sum, setSum] = useState(0);\r\n\r\n    //when page is loaded + when basket is changed\r\n    //... update basket total\r\n    useEffect(() => {\r\n        let total = 0;\r\n        props.items.forEach(item => {\r\n            total += item.price * item.qt\r\n        })\r\n        setSum(total)\r\n    }, [props.items])\r\n\r\n    //toggle basket menu open/closed\r\n    const handleOpen = () => {\r\n        setOpen(!open);\r\n    }\r\n\r\n    return (\r\n        <div className=\"nav\">\r\n            <div className=\"container\">\r\n                <Link to=\"/\"><h1><span className=\"logo-the\">the</span>Store</h1></Link>\r\n                <div className=\"nav__links\">\r\n                    <Link to=\"/wishlist\" className=\"btn btn--secondary btn__wishlist\">\r\n                        Wishlist\r\n                    </Link>\r\n                    <div className=\"btn btn--primary btn__basket\" onClick={handleOpen}>\r\n                        <FaShoppingBasket /> &nbsp;£{sum.toFixed(2)}\r\n                    </div>\r\n                </div>\r\n\r\n                {open\r\n                ? <Basket items={props.items} delete={props.delete} clear={props.clear}/>\r\n                : null }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Nav;","import React from 'react'\r\nimport { FaHeart, FaRegHeart, FaShoppingBasket } from \"react-icons/fa\"\r\nimport { Link } from \"react-router-dom\"; \r\n\r\nconst ItemCard = (props) => {\r\n    return (\r\n        <div className=\"card\">\r\n            <div className=\"card__img\">\r\n                <img src={props.img} alt={props.name} />\r\n            </div>\r\n            <div className=\"card__info\">\r\n                <Link to={`/items/${props.id}`} className=\"card__info-name fw-sm\">{props.name.split(\" \").slice(0,7).join(\" \")}...</Link>\r\n                <span className=\"card__info-price clr-nl\">£{props.price.toFixed(2)}</span>     \r\n            </div>\r\n\r\n            <div className=\"card__btns\">\r\n                <div className=\"addToBasket btn btn--primary\"  onClick={() => props.addToBasket(props.id)}>\r\n                    Add to basket&nbsp;<FaShoppingBasket />\r\n                </div>\r\n                <div className=\"addToWishlist btn btn--secondary\" onClick={() => props.addToWishlist(props.id)}>\r\n                    {props.inWishList ? <FaHeart /> : <FaRegHeart />}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ItemCard;\r\n","import React, {useState, useEffect} from 'react'\r\nimport ItemCard from \"./ItemCard\"\r\n\r\nconst Store = (props) => {\r\n\r\n    const [items, setItems] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetch(\"https://fakestoreapi.com/products\")\r\n            .then(res=>res.json())\r\n            .then(json=> {\r\n                json.forEach(product => {\r\n                    product.inWishList = false;\r\n                })\r\n                setItems(json)\r\n            });\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"grid\">\r\n           {items.length > 0 ? (\r\n               items.map((item) => {\r\n                return <ItemCard\r\n                items={items}\r\n                key={item.id}\r\n                id={item.id}\r\n                name={item.title}\r\n                img={item.image}\r\n                price={item.price}\r\n                desc={item.description}\r\n                addToBasket={props.addToBasket}\r\n                addToWishlist={props.addToWishlist} />\r\n            })\r\n           ):<div className=\"spinner\"></div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Store\r\n","import React, {useState, useEffect} from 'react'\r\n\r\nconst Item = ({match}) => {\r\n    const [item, setItem] = useState({})\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        fetch(`https://fakestoreapi.com/products/${match.params.id}`)\r\n            .then(res=>res.json())\r\n            .then(json=>setItem(json))\r\n            setLoading(false)\r\n    },[match.params.id])\r\n\r\n    return loading ? <div>loading...</div> : \r\n    <div className=\"item\">\r\n        <img className=\"item__img\" src={item.image} alt=\"\"/>\r\n        <h1 className=\"item__title\">{item.title}</h1>\r\n        <p className=\"item__desc\">{item.description}</p>\r\n    </div>\r\n}\r\n\r\nexport default Item\r\n","import React, {useEffect, useState} from 'react'\r\nimport ItemCard from \"./ItemCard\"\r\n\r\nconst Wishlist = (props) => {\r\n    const [items,setItems] = useState([]);\r\n\r\n    useEffect(() => {\r\n        setItems(JSON.parse(localStorage.getItem(\"wishlist\")));\r\n    },[])\r\n\r\n    return (\r\n        <>\r\n        <h1 className=\"fw-xl clr-nl\">Wishlist</h1>\r\n        <div className=\"grid\">\r\n            {items.map((item, key) => {\r\n                return <div key={key}>{item.title}</div>\r\n            })}\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Wishlist\r\n","import React from 'react'\r\n\r\nconst Error = (props) => {\r\n    return (\r\n        <div className=\"error\">\r\n            {props.text}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error\r\n","import './App.scss';\nimport Nav from \"./components/Nav\";\nimport Store from \"./components/Store\";\nimport Item from \"./components/Item\";\nimport Wishlist from \"./components/Wishlist\";\nimport Error from \"./components/Error\";\nimport React, {useState, useEffect} from 'react';\n\nimport {\n    HashRouter as Router,\n    Switch,\n    Route,\n  } from \"react-router-dom\"; \n\nconst LOCAL_BASKET = JSON.parse(localStorage.getItem(\"basket\")) || [];\nconst LOCAL_WISHLIST = JSON.parse(localStorage.getItem(\"wishlist\")) || [];\n\nconst App = () => {\n  const [basket, setBasket] = useState(LOCAL_BASKET);\n  const [wishlist, setWishlist] = useState(LOCAL_WISHLIST);\n  const [error, setError] = useState(false)\n\n  useEffect(() => {\n    localStorage.setItem(\"basket\", JSON.stringify(basket))\n  },[basket])\n  useEffect(() => {\n    localStorage.setItem(\"wishlist\", JSON.stringify(wishlist))\n  }, [wishlist])\n\n  const handleBasketAdd = async (id) => {\n    const itemToAdd = await fetch(`https://fakestoreapi.com/products/${id}`).then(res => res.json())\n    const newBasket = [...basket]\n    let itemInBasket = newBasket.find((item) => id === item.id)\n\n    if(itemInBasket) {\n      itemInBasket.qt++\n    } else {\n      itemInBasket = {\n        ...itemToAdd,\n        qt: 1,\n      };\n      newBasket.push(itemInBasket);\n    }\n    setBasket(newBasket)\n  }\n  const handleWishlistAdd = async (id) => {\n    const itemToAdd = await fetch(`https://fakestoreapi.com/products/${id}`).then(res => res.json())\n    const newWishlist = [...wishlist]\n    const itemInWishlist = newWishlist.find((item) => id === item.id);\n\n    if(!itemInWishlist){\n      newWishlist.push(itemToAdd)\n      setWishlist(newWishlist)\n    } else {\n      handleError()\n    }\n  }\n\n  //remove specific item from basket\n  const handleBasketRemove = (itemToRemove) => {\n    setBasket(basket.filter(item => item !== itemToRemove))\n  }\n\n  //clear entire basket\n  const handleBasketClear = () => {\n    setBasket([])\n  };\n\n  const handleError = () => {\n    setError(true);\n    setTimeout(() => {\n      setError(false)\n    }, 5000)\n  }\n \n  \n\n  return (\n    <Router>\n        <div className=\"App\">\n          <Nav className=\"Nav\" clear={handleBasketClear} delete={handleBasketRemove} count={Object.keys(basket).length} items={basket}/>\n          <div className=\"container content\">\n            <Switch>\n              <Route path=\"/wishlist\" component={Wishlist} />\n              <Route path=\"/items/:id\" component={Item} />\n              <Route path=\"/\" render={\n                () => <Store \n                addToBasket={handleBasketAdd}\n                addToWishlist={handleWishlistAdd}/>\n              }/>\n            </Switch>\n          </div>\n          {error ? <Error text={\"Item already in wishlist!\"}/> : null}\n        </div>\n    </Router>\n    \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}